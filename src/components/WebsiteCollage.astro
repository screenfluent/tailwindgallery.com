---
import { createWebsiteCollage } from '../utils/imageProcessing';
import type { ImageMetadata } from 'astro';

interface Props {
    mobile: ImageMetadata;
    tablet: ImageMetadata;
    desktop: ImageMetadata;
    alt: string;
}

const { mobile, tablet, desktop, alt } = Astro.props;

// Generuj kolaż
const collageBuffer = await createWebsiteCollage(mobile, tablet, desktop);

// Konwertuj buffer na base64 do wyświetlenia
const base64Image = `data:image/webp;base64,${Buffer.from(collageBuffer).toString('base64')}`;
---

<div class="website-collage">
    <img 
        src={base64Image}
        alt={alt}
        width="720"
        height="1000"
        class="w-full rounded-lg shadow-sm"
    />
</div> 